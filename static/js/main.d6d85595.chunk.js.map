{"version":3,"sources":["utils/BEM.ts","components/TextArea/TextArea.tsx","utils/inrervals.ts","components/Word/Word.tsx","components/Dictianary/Dictionary.tsx","components/Highlighter/Highlighter.tsx","components/App/App.tsx","utils/getDictionaryFromSrc.ts","serviceWorker.ts","index.tsx"],"names":["getBEMPAth","b","e","m","base","join","reduce","str","elementName","modifiers","Array","isArray","filter","Boolean","Object","entries","value","map","BEM","TextArea","props","children","onChange","useState","setValue","useEffect","className","ev","currentTarget","mergeIntervals","result","interval","isEmpty","concat","init","A","B","AStart","start","AEnd","end","BStart","BEnd","mergeTwoIntervals","last","Word","word","selected","onSelect","onClick","dictionaryWord","entriesInSrc","length","Dictionary","dictionary","selectedWords","onSelectWords","contains","key","without","append","Highlighter","highlighters","text","model","useMemo","src","ranges","breakpoints","flatten","to","from","isHighlighted","slice","splitByRanges","active","React","memo","setSrc","pipe","unfold","index","match","toLower","partOfSpeechTag","groupBy","toPairs","values","prop","sort","a","getDictionaryFromSrc","seSelectedWords","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.d6d85595.chunk.js","sourcesContent":["type Modifier = any[] | Record<string, any>\ntype B = (b: string) => (elementName?: string | Modifier, modifiers?: Modifier) => string\ntype GetBEMPAth = (b: string, e: string, m: string[]) => string\n\nconst ELEMENT_SEPARATOR = '__'\nconst MODIFIER_SEPARATOR = '--'\n\nconst getBEMPAth: GetBEMPAth = (b, e, m) => {\n  const base = e !== '' ? [b, e].join(ELEMENT_SEPARATOR) : b\n\n  return `${base} ${m.reduce((str, m) => `${str} ${base}${MODIFIER_SEPARATOR}${m}`, '')}`\n}\n\nconst b: B = (b) => (elementName, modifiers = []) => {\n  modifiers = typeof elementName === 'string' ? modifiers : elementName || []\n\n  return getBEMPAth(\n    b,\n    typeof elementName === 'string' ? elementName : '',\n    Array.isArray(modifiers)\n      ? modifiers.filter(Boolean)\n      : Object.entries(modifiers)\n          .filter(([, value]) => Boolean(value))\n          .map(([key]) => key),\n  )\n}\n\nexport default b\n","import React, { useState, useEffect } from 'react'\nimport './TextArea.css'\nimport BEM from '../../utils/BEM'\nconst b = BEM('TextArea')\n\ntype Props = {\n  onChange?: (vallue: string) => void\n  children: (value: string) => React.ReactNode\n  value: string\n}\n\nconst TextArea: React.FunctionComponent<Props> = (props) => {\n  const { children, onChange } = props\n  const [value, setValue] = useState(props.value || '')\n  useEffect(() => {\n    onChange?.(value)\n  }, [value])\n\n  return (\n    <div className={b()}>\n      <textarea onChange={(ev) => setValue(ev.currentTarget.value)} className={b('input')} value={value} />\n      <div className={b('input-highlighter')}>{children(value)}</div>\n    </div>\n  )\n}\n\nexport default TextArea\n","import { concat, init, isEmpty, last, reduce } from 'ramda'\n\nexport type Range = { start: number; end: number }\n\nexport const mergeTwoIntervals = (A: Range, B: Range): Range[] => {\n  const AStart = A.start\n  const AEnd = A.end\n\n  const BStart = B.start\n  const BEnd = B.end\n\n  if (AEnd < BStart) return [A, B] // [--A--] ___ [--B--]\n  if (BEnd < AStart) return [B, A] // [--B--] ___ [--A--]\n\n  if (AStart <= BStart && AEnd >= BEnd) return [A] // [ A- [--B--] -A]\n  if (BStart <= AStart && BEnd >= AEnd) return [B] // [ B- [--A--] -B]\n\n  if (AStart <= BStart && AEnd <= BEnd) return [{ start: A.start, end: B.end }] // [A-- [B --A] --B]\n  if (BStart <= AStart && BEnd <= AEnd) return [{ start: B.start, end: A.end }] // [B-- [A --B] --A]\n\n  return [A, B]\n}\n\nexport const mergeIntervals = reduce<Range, Range[]>(\n  (result, interval) =>\n    isEmpty(result) ? [interval] : concat(init(result), mergeTwoIntervals(last(result) as Range, interval)),\n  [],\n)\n","import React from 'react'\nimport { DictionaryItem } from '../../utils/getDictionaryFromSrc'\nimport './Word.css'\nimport BEM from '../../utils/BEM'\n\nconst b = BEM('Word')\ntype Props = {\n  word: DictionaryItem\n  onSelect?: (word: DictionaryItem) => void\n  selected: boolean\n}\n\nexport const Word: React.FunctionComponent<Props> = ({ word, selected, onSelect }) => (\n  <span className={b({ selected })} onClick={() => onSelect?.(word)}>\n    {word.dictionaryWord}<sup className={b(\"count\")}>{word.entriesInSrc.length}</sup>\n  </span>\n)\n","import React from 'react'\nimport { DictionaryItem } from '../../utils/getDictionaryFromSrc'\nimport { Word } from '../Word/Word'\nimport './Dictionary.css'\nimport BEM from '../../utils/BEM'\nimport { append, contains, without } from 'ramda'\n\nconst b = BEM('Dictionary')\n\ntype Props = {\n  selectedWords: DictionaryItem[]\n  dictionary: DictionaryItem[]\n  onSelectWords?: (words: DictionaryItem[]) => void\n}\n\nexport const Dictionary: React.FunctionComponent<Props> = ({ dictionary, selectedWords, onSelectWords }) => (\n  <div className={b()}>\n    {dictionary.map((word) => (\n      <>\n        <Word\n          selected={contains(word, selectedWords)}\n          key={word.dictionaryWord}\n          word={word}\n          onSelect={(word) =>\n            contains(word, selectedWords)\n              ? onSelectWords?.(without([word], selectedWords))\n              : onSelectWords?.(append(word, selectedWords))\n          }\n        />{' '}\n      </>\n    ))}\n  </div>\n)\n","import React, { useMemo } from 'react'\nimport { append, flatten, isEmpty, last, map, reduce, slice } from 'ramda'\nimport { Range } from '../../utils/inrervals'\nimport './Highlighter.css'\nimport BEM from '../../utils/BEM'\n\nconst b = BEM('Highlighter')\n\ntype Highlight = [string, boolean]\nconst splitByRanges = (src: string, ranges: Range[]): Highlight[] => {\n  if (isEmpty(ranges)) return [[src, false]]\n\n  const breakpoints = flatten(map(({ start, end }) => [start, end], ranges))\n  const result = reduce<number, [Highlight[], number, boolean]>(\n    ([result, from, isHighlighted], to) => [\n      append([slice(from, to, src), isHighlighted], result), //\n      to, //\n      !isHighlighted,\n    ],\n    [[], 0, false],\n    breakpoints,\n  )\n\n  return append([slice(last(breakpoints) ?? src.length, src.length, src), false], result[0])\n}\n\nexport const Highlighter: React.FunctionComponent<{ highlighters: Range[]; text: string }> = ({\n  highlighters,\n  text,\n}) => {\n  const model = useMemo(() => splitByRanges(text, highlighters), [highlighters, text])\n\n  return (\n    <span className={b()}>\n      {model.map(([text, isHighlighted]) => (\n        <span className={b('item', { active: isHighlighted })}>{text}</span>\n      ))}\n    </span>\n  )\n}\n","import React, { useState, useMemo } from 'react'\nimport { flatten, map, pipe, sort } from 'ramda'\n// import faker from 'faker'\nimport BEM from '../../utils/BEM'\nimport TextArea from '../TextArea/TextArea'\nimport { DictionaryItem, getDictionaryFromSrc } from '../../utils/getDictionaryFromSrc'\nimport { mergeIntervals, Range } from '../../utils/inrervals'\nimport { Dictionary } from '../Dictianary/Dictionary'\nimport { Highlighter } from '../Highlighter/Highlighter'\n\nimport './App.css'\n\nconst b = BEM('App')\n\nconst sample = `I spent the first six months of the pandemic sure that help for mothers was on its way. Bills would be passed, systems would be reworked. Workplaces would shift to include caretaking within their cultures. A year of the country “staying home” would validate the work of stay-at-home mothers. As the fall brought more remote learning, we’d reconfigure school standards to keep children safe from virtual truancy and failing grades given over Zoom in the name of academic rigor. We would listen to women like Natalie Brown, mother of two and a PhD candidate, when she says we’d “shift our focus and policies to helping families survive this time in ways that work for them.”\n\nWhen it came to the 2020–2021 school year, maybe that meant we’d take a cue from Bolivia and suspend academics. We’d figure this disease out and then we could start again, on an even footing, a year later. Maybe it meant remote school accompanied by a temporary measure that untied education funding from enrollment. If schools were allowed to keep their enrollment funding from the previous year, a working mother who pulled her kid from their kindergarten class because she couldn’t supervise their remote learning wouldn’t be culpable for impoverishing her neighborhood school. Maybe it meant a government check every month until the pandemic was over, so that women could pay a living wage to childcare workers to supervise their kids’ living and learning. Whatever the shift, we would have had to think outside the demands of our standard systems. As Brown notes, “This pandemic has underscored how institutions can’t just operate to promote their own agendas while ignoring their roles in the community ecosystem. Our university relies on public schools which relies on daycare providers and parents, etc. We need holistic solutions.”\n\nInstead of holistic solutions, we have a funding and community crisis. My family’s school district is remote through at least October. People are taking their children out of school at a concerning rate. Yesterday, the principal of our elementary school took to the neighborhood Facebook page to tell parents how much money our school was losing each time a child withdrew. I feel for him. He is an excellent educator dedicated to equity. He’s working within a system with broken funding and bitter, often racist, divides. The comments on the post were mostly supportive, many in my neighborhood talked about the importance of maintaining our community through enrollment, it was “the right thing to do.”\n\nAs a parent who is keeping one daughter in remote public school and has unenrolled another with dyslexia, I stayed quiet. Remote learning isn’t good for kids, but I can offer my oldest to the funding gods. She’ll be fine. My child with dyslexia needs additional support. Remote learning in the spring marked her up in ways I couldn’t ask her to face again. She’d always moved uncertainly through a world with processes running counter to her brain’s wiring. Remote learning, with its links, forms, and online submissions was unintelligible to her. It was too remote. She couldn’t touch it. She’d been cut off. Her insecurity turned into self-loathing. I don’t know if my decision to keep one child in remote public school while taking another child out will be just enough to keep me in my community, or just enough to exile me from it.\n\nLeniency on work schedules and compensation is a request every working mother has made since she brought her first child home from the hospital.\n\nWhen our school district sent out a statement about pods and unenrollment, they said the already present evils of segregation and inequity were worsening in the pandemic. They’re right. One of their tips to help parents keep kids enrolled and remotely present for daily attendance was: “Ask your employer to provide leniency on work schedules and compensation during periods of remote learning.” Leniency on work schedules and compensation is a request every working mother has made since she brought her first child home from the hospital. Sometimes she’s just told no, many times she’s fired over it. It’s a laughable tip, but what is the district supposed to do? When every broken institution depends on the unpaid labor of caretakers and those caretakers are finally broken themselves, all we’re left with are statements and suggestions signifying nothing.\n\nAccording to a recent survey by Morning Consult, four in five parents of remote learning kids say they have “no in-person help educating and caring for them, whether from relatives, neighbors, nannies, or tutors.” When a study like this says parents, it mostly means “mostly mothers.” The bulk of pandemic hardship is falling on the mothers; 54% of women in the survey said they will be the ones handling their children’s weekday education. Many working moms who are deeply engaged in their communities are having to choose between funding the school with enrollment or keeping their jobs.\n\nWhen those mothers choose enrollment and out-of-the-home work, and if they’re unable to ensure their child regularly attends remote classes, they are endangered through the anti-truancy alliance between schools and the state. In “high-poverty, predominantly Black and Latino school districts” mothers are being hauled into truancy court because their elementary children didn’t attend enough Zoom classes. If mothers unenroll their children because they cannot supervise full-day remote learning and are concerned about the repercussions, they’re told they’ve violated a sacred social contract. Mothers who form pods to get childcare for their kids while they remote learn are privileged pariahs. Single working mothers who do not have the network or money to form a pod will be reported to the authorities when a neighbor realizes their seven-year-old is home alone every day while her mom earns money for food and rent. Stay-at-home mothers are not allowed to feel anything but grateful to be of service to their kids and their community.\n\nI finally understand that help is not coming. With kids home from school but still burdened with scholastic progress, many working moms will cut back when they were just ready to spring forward. They’re going to lose years of progress when it matters most to their careers. In the decades to come, those women will be missing from the leadership positions they would have occupied if we’d decided they mattered enough to help them. Their children will watch them fold into themselves. Stay-at-home moms who depend on school hours to perform household labor, go back to school themselves, and do so much of the daytime community work that keeps communities afloat will find themselves collapsing. The crying won’t stay in the kitchen. We can’t keep holding our homes and communities up if we’ve fallen in ourselves.\n\nIf we can’t fix our culture, can we at least be honest about what it values?\n\nThis financial and social recession will continue to hit mothers — working in and outside of the home — with sharp, leveling blows. As always, our inability to think outside of established systems is going to hurt the vulnerable the most. Some of the effects won’t be seen in the labor force withdrawal or in the school district’s ledgers. According to a study on mental health during Covid, conducted by the Centers for Disease Control and Prevention, over 25% of Americans between the ages of 18 and 24 seriously considered suicide in the last 30 days; 16% of those ages 25 to 44 considered it. In America, the average age of a first-time mother is 26. I was 24 when I had my first baby. How many mothers right now are looking out the window for a little too long, gripping their steering wheels a little too tight, giving up a little too much?\n\nWhether we labor in our homes or outside of them, every mother will wake up every morning remembering that when it comes to their needs, America just can’t really be bothered. Can’t be bothered to provide financial help. Can’t be bothered to find a new way. Can’t be bothered to reach across the kitchen table and hold the hand of the mother who can’t lift her head from its crumb-strewn surface. Simply can’t be bothered. I guess I always knew this about America but now, after this pandemic, I understand it.`\n// const sample = faker.lorem.paragraphs(1).split('\\n \\r').join('\\n\\n')\n\nconst App: React.FunctionComponent<{}> = () => {\n  const [src, setSrc] = useState<string>(sample)\n  const dictionary = useMemo(() => getDictionaryFromSrc(src), [src])\n  const [selectedWords, seSelectedWords] = useState<DictionaryItem[]>([])\n  const highlighters = useMemo<Range[]>(\n    () =>\n      pipe(\n        map<DictionaryItem, Range[]>(({ entriesInSrc }) => entriesInSrc),\n        flatten,\n        sort<Range>((a, b) => a.start - b.start),\n        mergeIntervals,\n      )(selectedWords),\n    [selectedWords, dictionary, src],\n  )\n\n  return (\n    <div className={b()}>\n      <TextArea value={src} onChange={setSrc}>\n        {(value) => <Highlighter text={value} highlighters={highlighters} />}\n      </TextArea>\n      <Dictionary selectedWords={selectedWords} dictionary={dictionary} onSelectWords={seSelectedWords} />\n    </div>\n  )\n}\n\nexport default React.memo(App)\n","import { append, flatten, groupBy, pipe, prop, reduce, sort, toLower, toPairs, unfold } from 'ramda'\nimport { Range } from './inrervals'\n\nexport type DictionaryItem = {\n  dictionaryWord: string\n  partOfSpeechTag: string\n  entriesInSrc: Range[]\n}\n\nexport const getDictionaryFromSrc = (src: string): DictionaryItem[] =>\n  pipe(\n    unfold<[string, number], DictionaryItem>(([src, index]) => {\n      const testStr = src.slice(index)\n      const result = testStr.match(/[\\w’]+/)\n\n      if (!result) return false\n\n      return [\n        {\n          dictionaryWord: toLower(result?.[0]),\n          partOfSpeechTag: 'NOUN',\n          entriesInSrc: [\n            {\n              start: index + (result.index ?? 0),\n              end: index + (result.index ?? 0) + result?.[0].length,\n            },\n          ],\n        },\n        [src, index + result[0].length + (result?.index ?? 0)],\n      ]\n    }),\n    groupBy(({ dictionaryWord }) => dictionaryWord),\n    toPairs,\n    reduce<[string, DictionaryItem[]], DictionaryItem[]>(\n      (result, [word, values]) =>\n        append(\n          {\n            dictionaryWord: word,\n            partOfSpeechTag: values[0].partOfSpeechTag ?? '--',\n            entriesInSrc: flatten(values.map(prop('entriesInSrc'))),\n          },\n          result,\n        ),\n      [],\n    ),\n    sort((a, b) => b.entriesInSrc.length - a.entriesInSrc.length),\n  )([src, 0]) as DictionaryItem[]\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}